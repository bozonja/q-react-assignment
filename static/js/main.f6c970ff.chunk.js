(this["webpackJsonpq-react-assignment"]=this["webpackJsonpq-react-assignment"]||[]).push([[0],[,,,,,,,,function(e,t,c){},,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(9),o=c.n(a),r=(c(14),c(3)),l=c(5),i=c(2),j=c(0),h=function(e){var t=e.helloMessage;return Object(s.useEffect)((function(){console.log("".concat(t," Navigation"))}),[]),Object(j.jsx)("nav",{children:Object(j.jsx)("ul",{children:Object(j.jsx)("li",{className:"navigation-item",children:Object(j.jsx)(l.b,{to:"/",className:"navigation-item-link",children:"Home"})})})})},d=(c(16),function(e){var t=e.helloMessage,c=e.searchTerm,n=e.setSearchTerm;Object(s.useEffect)((function(){console.log("".concat(t," Header"))}),[]);var a=Object(i.e)();return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("div",{className:"title-with-search",children:[Object(j.jsx)("h1",{className:"logo-text",children:"Posts app"}),"/"===a.pathname&&Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"text",placeholder:"Search posts...",value:c,onChange:function(e){return n(e.target.value)}})})})]}),Object(j.jsx)(h,{helloMessage:t})]})}),b=(c(17),function(e){var t=e.helloMessage,c=e.title,n=Object(i.e)().pathname;return Object(s.useEffect)((function(){console.log("".concat(t," PageTitle"))}),[]),Object(j.jsxs)("div",{className:"page-title-container",children:[Object(j.jsx)("h2",{className:"page-title",children:c}),!n.includes("create")&&Object(j.jsx)(l.b,{to:"/create",children:Object(j.jsx)("button",{children:"Create new post"})})]})}),u=(c(18),function(e){var t=e.children,c=e.helloMessage;return Object(s.useEffect)((function(){console.log("".concat(c," MainWrapper"))}),[]),Object(j.jsx)("main",{className:"main-wrapper",children:t})}),O=(c(8),c.p+"static/media/edit-icon.4ffe848a.svg"),x=c.p+"static/media/trash-icon.96ae42b3.svg",f=function(e){var t=Object(s.useState)(!0),c=Object(r.a)(t,2),n=c[0],a=c[1],o=Object(s.useState)(null),l=Object(r.a)(o,2),i=l[0],j=l[1],h=Object(s.useState)(null),d=Object(r.a)(h,2),b=d[0],u=d[1];return Object(s.useEffect)((function(){fetch(e).then((function(e){if(!e.ok)throw Error("Something went wrong");return e.json()})).then((function(e){u(e),a(!1),j(null)})).catch((function(e){j(e.message),a(!1)}))}),[e]),{isLoading:n,error:i,data:b}},p=function(e){var t=e.helloMessage,c=e.searchTerm,n=Object(i.f)(),a=f("http://localhost:4000/data"),o=a.isLoading,r=a.error,h=a.data;return Object(s.useEffect)((function(){console.log("".concat(t," Posts"))}),[]),Object(j.jsxs)(u,{helloMessage:t,children:[Object(j.jsx)(b,{title:"Home",helloMessage:t}),Object(j.jsxs)("section",{className:"posts",children:[o&&Object(j.jsx)("span",{children:"Loading..."}),r&&Object(j.jsx)("span",{className:"error-msg",children:r}),h&&Object(j.jsx)(j.Fragment,{children:h.filter((function(e){return""===c?e.body:e.title.toLowerCase().includes(c.toLowerCase())?e.title:e.body.toLowerCase().includes(c.toLowerCase())?e.body:void 0})).map((function(e){return Object(j.jsxs)("article",{className:"post",children:[Object(j.jsx)(l.b,{to:"/post/".concat(e.id),children:Object(j.jsx)("h2",{className:"post-title",children:e.title})}),Object(j.jsx)("p",{children:e.body}),Object(j.jsxs)("p",{className:"user-text",children:["User: ",e.user]}),Object(j.jsxs)("div",{className:"post-footer",children:[Object(j.jsxs)(l.b,{to:"/edit/".concat(e.id),children:[Object(j.jsx)("span",{className:"post-footer-link-text",children:"Edit post"}),Object(j.jsx)("img",{src:O,className:"icon",alt:""})]}),Object(j.jsxs)("div",{className:"post-footer-link",onClick:function(){return t=e.id,void fetch("http://localhost:4000/data/"+t,{method:"DELETE"}).then((function(){alert("Post deleted"),n(0)}));var t},children:[Object(j.jsx)("span",{className:"post-footer-link-text",children:"Delete post"}),Object(j.jsx)("img",{src:x,className:"icon",alt:""})]})]})]},e.id)}))}),h&&0===h.length&&!r&&Object(j.jsx)("span",{children:"No posts to show..."})]})]})},g=function(e){var t=e.helloMessage,c=Object(i.g)().id,n=f("http://localhost:4000/data/"+c),a=n.data,o=n.isLoading,r=n.error,l=Object(i.f)();return Object(s.useEffect)((function(){console.log("".concat(t," Single post"))}),[]),Object(j.jsxs)(u,{helloMessage:t,children:[o&&"Loading...",r&&Object(j.jsx)("span",{className:"error-msg",children:r}),a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:a.title,helloMessage:t}),Object(j.jsxs)("article",{className:"single-post",children:[Object(j.jsx)("p",{children:a.body}),Object(j.jsxs)("p",{className:"user-text",children:["User: ",a.user]}),Object(j.jsx)("div",{className:"post-footer",children:Object(j.jsxs)("div",{className:"post-footer-link",onClick:function(){return function(e){fetch("http://localhost:4000/data/"+e,{method:"DELETE"}).then((function(){alert("Post deleted"),l("/")}))}(a.id)},children:[Object(j.jsx)("span",{className:"post-footer-link-text",children:"Delete post"}),Object(j.jsx)("img",{src:x,className:"icon",alt:""})]})})]})]})]})},m=function(e){var t=e.helloMessage;Object(s.useEffect)((function(){console.log("".concat(t," Create post"))}),[]);var c=Object(s.useState)(""),n=Object(r.a)(c,2),a=n[0],o=n[1],l=Object(s.useState)(""),h=Object(r.a)(l,2),d=h[0],u=h[1],O=Object(s.useState)("Zvone"),x=Object(r.a)(O,2),f=x[0],p=x[1],g=Object(i.f)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:"Create post",helloMessage:t}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={title:a,body:d,user:f};fetch("http://localhost:4000/data",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(){alert("Post created"),g("/")}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",placeholder:"enter title",required:!0,value:a,onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Text"}),Object(j.jsx)("textarea",{required:!0,value:d,onChange:function(e){return u(e.target.value)},placeholder:"add description"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Written by:"}),Object(j.jsxs)("select",{value:f,onChange:function(e){return p(e.target.value)},children:[Object(j.jsx)("option",{value:"Zvone",children:"Zvone"}),Object(j.jsx)("option",{value:"Petar",children:"Petar"}),Object(j.jsx)("option",{value:"Nina",children:"Nina"})]})]}),Object(j.jsx)("button",{type:"submit",children:" Create"})]})]})},v=(c(19),function(e){var t=e.helloMessage;return Object(s.useEffect)((function(){console.log("".concat(t," Footer"))}),[]),Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("span",{className:"copyright",children:"Made by Josip Markovi\u0107 for Q Agency"})})}),N=function(e){var t=e.helloMessage;Object(s.useEffect)((function(){console.log("".concat(t," Edit post"))}),[]);var c=Object(i.g)().id,n=f("http://localhost:4000/data/"+c),a=n.data,o=n.isLoading,l=n.error,h=Object(i.f)(),d=Object(s.useState)(""),u=Object(r.a)(d,2),O=u[0],x=u[1],p=Object(s.useState)(""),g=Object(r.a)(p,2),m=g[0],v=g[1],N=Object(s.useState)("Zvone"),M=Object(r.a)(N,2),y=M[0],E=M[1];return Object(j.jsxs)(j.Fragment,{children:[o&&Object(j.jsx)("span",{children:"Loading..."}),l&&Object(j.jsx)("span",{className:"error-msg",children:l}),a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{title:"Edit ".concat(a.title),helloMessage:t}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={user:y,title:O,body:m};fetch("http://localhost:4000/data/"+c,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then((function(){alert("Post changed"),h("/")}))},children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Title"}),Object(j.jsx)("input",{type:"text",placeholder:"edit title",required:!0,onChange:function(e){return x(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Text"}),Object(j.jsx)("textarea",{required:!0,onChange:function(e){return v(e.target.value)},placeholder:"edit description"})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Written by:"}),Object(j.jsxs)("select",{onChange:function(e){return E(e.target.value)},children:[Object(j.jsx)("option",{value:"Zvone",children:"Zvone"}),Object(j.jsx)("option",{value:"Petar",children:"Petar"}),Object(j.jsx)("option",{value:"Nina",children:"Nina"})]})]}),Object(j.jsx)("button",{type:"submit",children:" Change"})]})]})]})},M=function(e){var t=e.helloMessage;return Object(s.useEffect)((function(){console.log("".concat(t," NotFound"))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"404 Page not found"})})};var y=function(){var e="Hello from ",t=Object(s.useState)(""),c=Object(r.a)(t,2),n=c[0],a=c[1];return Object(j.jsx)("div",{className:"app-wrapper",children:Object(j.jsxs)(l.a,{children:[Object(j.jsx)(d,{helloMessage:e,searchTerm:n,setSearchTerm:a}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,element:Object(j.jsx)(p,{helloMessage:e,searchTerm:n,setSearchTerm:a})}),Object(j.jsx)(i.a,{path:"/post/:id",element:Object(j.jsx)(g,{helloMessage:e})}),Object(j.jsx)(i.a,{path:"/create",element:Object(j.jsx)(m,{helloMessage:e})}),Object(j.jsx)(i.a,{path:"/edit/:id",element:Object(j.jsx)(N,{helloMessage:e})}),Object(j.jsx)(i.a,{path:"*",element:Object(j.jsx)(M,{helloMessage:e})})]}),Object(j.jsx)(v,{helloMessage:e})]})})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.f6c970ff.chunk.js.map